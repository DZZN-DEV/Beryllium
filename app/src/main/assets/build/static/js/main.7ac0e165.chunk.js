(this.webpackJsonpconfig_website=this.webpackJsonpconfig_website||[]).push([[0],{42:function(t,e,n){t.exports=n(53)},47:function(t,e,n){},53:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(14),o=n.n(r),l=(n(47),n(31)),c=n(12),s=n(13),u=n(19),d=n(20),p=n(61),m=n(57),v=n(58),h=n(62),f=n(56),E=n(16),g=n.n(E),y=n(26),k="http://"+window.location.host+"/tvStation",S=function(){function t(){Object(c.a)(this,t)}return Object(s.a)(t,null,[{key:"getAll",value:function(){var t=Object(y.a)(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(k,{method:"GET"});case 2:return e=t.sent,t.next=5,e.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"insertOrUpdate",value:function(){var t=Object(y.a)(g.a.mark((function t(){var e,n,a,i,r,o,l=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=l.length,n=new Array(e),a=0;a<e;a++)n[a]=l[a];i=0,r=n;case 2:if(!(i<r.length)){t.next=9;break}return o=r[i],t.next=6,fetch(k+b(o),{method:o.id?"PUT":"POST"});case 6:i++,t.next=2;break;case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(y.a)(g.a.mark((function t(){var e,n,a,i,r,o,l=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=l.length,n=new Array(e),a=0;a<e;a++)n[a]=l[a];i=0,r=n;case 2:if(!(i<r.length)){t.next=9;break}return o=r[i],t.next=6,fetch(k+"?tvStationId=".concat(o),{method:"DELETE"});case 6:i++,t.next=2;break;case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}();function b(t){return"?tvStationId=".concat(encodeURIComponent(t.id),"&m3u8=").concat(encodeURIComponent(t.m3u8),"&title=").concat(encodeURIComponent(t.title),"&sort=").concat(encodeURIComponent(t.sort))}var w=n(55),C=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).moveButtonClick=!1,t}return Object(s.a)(n,[{key:"render",value:function(){var t=this;return i.a.createElement("tr",{key:this.props.station.id,onClick:function(){t.moveButtonClick||t.props.onItemClick(),t.moveButtonClick=!1}},i.a.createElement("td",null,this.props.station.id),i.a.createElement("td",null,this.props.station.title),i.a.createElement("td",null,i.a.createElement("p",{style:{wordWrap:"break-word",maxWidth:600}},this.props.station.m3u8)),i.a.createElement("td",null,i.a.createElement(w.a,null,i.a.createElement(h.a,{disabled:!this.props.moveUpEnabled,variant:"outline-primary",onClick:function(){t.moveButtonClick=!0,t.props.onMoveClick(!0)}},"\u2191"),i.a.createElement(h.a,{disabled:!this.props.moveDownEnabled,variant:"outline-primary",onClick:function(){t.moveButtonClick=!0,t.props.onMoveClick(!1)}},"\u2193"))))}}]),n}(a.PureComponent),x=n(59),O=n(60),j=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={isSaving:!1,isDeleting:!1,inputTitle:"",inputM3u8:""},t}return Object(s.a)(n,[{key:"render",value:function(){var t,e=this;return i.a.createElement(x.a,{show:!!this.props.editingStation,onHide:function(){return e.props.onHide(!1)},onShow:function(){var t,n;return e.setState({titleInvalid:!1,m3u8Invalid:!1,isSaving:!1,isDeleting:!1,inputTitle:(null===(t=e.props.editingStation)||void 0===t?void 0:t.title)||"",inputM3u8:(null===(n=e.props.editingStation)||void 0===n?void 0:n.m3u8)||""})},animation:!1},i.a.createElement(x.a.Header,{closeButton:!0},i.a.createElement(x.a.Title,null,"Edit TV Station")),i.a.createElement(x.a.Body,null,i.a.createElement(O.a.Label,null,"TV Station basic info."),i.a.createElement(O.a.Group,null,i.a.createElement(O.a.Control,{required:!0,value:this.state.inputTitle,onChange:function(t){return e.setState({inputTitle:t.target.value})},type:"text",isInvalid:!this.state.inputTitle,placeholder:"Title"}),i.a.createElement(O.a.Control.Feedback,{type:"invalid"},"Please provide a valid title.")),i.a.createElement(O.a.Group,null,i.a.createElement(O.a.Control,{required:!0,value:this.state.inputM3u8,onChange:function(t){return e.setState({inputM3u8:t.target.value})},type:"text",isInvalid:!this.state.inputM3u8,placeholder:"M3U8 URL"}),i.a.createElement(O.a.Control.Feedback,{type:"invalid"},"Please provide a valid m3u8 url."))),i.a.createElement(x.a.Footer,null,i.a.createElement(h.a,{hidden:!(null===(t=this.props.editingStation)||void 0===t?void 0:t.id),variant:"danger",onClick:function(){return e.delete()}},this.state.isDeleting?i.a.createElement(f.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Delete"),i.a.createElement("div",{style:{flex:1}}),i.a.createElement(h.a,{variant:"secondary",onClick:function(){return e.props.onHide(!1)}},"Close"),i.a.createElement(h.a,{variant:"primary",onClick:function(){return e.save()}},this.state.isSaving?i.a.createElement(f.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Save changes")))}},{key:"save",value:function(){var t,e,n=this;this.state.inputTitle&&this.state.inputM3u8&&(this.setState({isSaving:!0}),S.insertOrUpdate({id:(null===(t=this.props.editingStation)||void 0===t?void 0:t.id)||0,m3u8:this.state.inputM3u8,title:this.state.inputTitle,sort:(null===(e=this.props.editingStation)||void 0===e?void 0:e.sort)||0}).then((function(){return n.props.onHide(!0)})))}},{key:"delete",value:function(){var t=this;this.props.editingStation&&this.props.editingStation.id&&(this.setState({isDeleting:!0}),S.delete(this.props.editingStation.id).then((function(){return t.props.onHide(!0)})))}}]),n}(a.Component),T=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={tvStations:null,editingStation:null},t.maxSort=0,t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.refresh()}},{key:"render",value:function(){var t=this,e=this.state.tvStations;return i.a.createElement("div",null,i.a.createElement(p.a,{bg:"dark",variant:"dark",expand:"lg",sticky:"top"},i.a.createElement(m.a,null,i.a.createElement(p.a.Brand,null,"Beryllium TV"))),i.a.createElement(m.a,{fluid:!0,style:{marginTop:44,marginBottom:44}},i.a.createElement(v.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"Title"),i.a.createElement("th",null,"m3u8"),i.a.createElement("th",null,"Sort"))),i.a.createElement("tbody",null,(e||[]).map((function(n,a){return i.a.createElement(C,{key:n.id,station:n,onItemClick:function(){return t.setState({editingStation:n})},onMoveClick:function(e){return t.move(n,e)},moveUpEnabled:0!==a,moveDownEnabled:a!==e.length-1})})))),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},null!=e?i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.a.createElement("p",null,e.length," station(s)"),i.a.createElement(h.a,{style:{width:240},variant:"primary",onClick:function(){return t.setState({editingStation:{id:0,m3u8:"",sort:t.maxSort+1,title:""}})}},"Add TV Station")):i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.a.createElement(f.a,{hidden:null!=e,animation:"grow",variant:"primary"}),i.a.createElement("p",null,"Loading saved stations")))),i.a.createElement(j,{editingStation:this.state.editingStation,onHide:function(e){t.setState({editingStation:null}),e&&t.refresh()}}))}},{key:"refresh",value:function(){var t=this;S.getAll().then((function(e){t.setState({tvStations:e});var n=e[e.length-1];t.maxSort=n?n.sort:0}))}},{key:"move",value:function(t,e){var n=this,a=Object(l.a)(this.state.tvStations||[]);if(a.length){var i=a.indexOf(t),r=i+(e?-1:1);a.splice(i,1),a.splice(r,0,t),a.forEach((function(t,e){return t.sort=e})),S.insertOrUpdate.apply(S,Object(l.a)(a)).then((function(){n.setState({tvStations:a})}))}}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(52);o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.7ac0e165.chunk.js.map