{"version":3,"sources":["Networker.ts","TVStationView.tsx","TVStationEditorView.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["api","window","location","host","TVStationDao","fetch","method","resp","json","s","tvStations","assembleParams","id","tvStationIds","iid","encodeURIComponent","m3u8","title","sort","TVStationView","moveButtonClick","onClick","props","onItemClick","this","station","style","wordWrap","maxWidth","ButtonGroup","Button","disabled","moveUpEnabled","variant","onMoveClick","moveDownEnabled","PureComponent","TVStationEditorView","state","isSaving","isDeleting","inputTitle","inputM3u8","Modal","show","editingStation","onHide","onShow","setState","titleInvalid","m3u8Invalid","animation","Header","closeButton","Title","Body","Form","Label","Group","Control","required","value","onChange","e","target","type","isInvalid","placeholder","Feedback","Footer","hidden","delete","Spinner","as","size","role","flex","save","insertOrUpdate","then","Component","App","maxSort","refresh","Navbar","bg","expand","sticky","Container","Brand","fluid","marginTop","marginBottom","Table","striped","bordered","hover","map","index","isMoveUp","move","length","display","flexDirection","alignItems","width","refreshRequired","getAll","stations","last","isUp","currentStations","currentIndex","indexOf","targetIndex","splice","forEach","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.b546ad73.chunk.js","sourcesContent":["const api = \"http://\" + window.location.host + \"/tvStation\";\n\nexport class TVStationDao {\n    static async getAll(): Promise<TVStation[]> {\n        const resp = await fetch(api, { method: \"GET\" });\n        return await resp.json();\n    }\n\n    static async insertOrUpdate(...tvStations: TVStation[]) {\n        for (const s of tvStations) {\n            await fetch(api + assembleParams(s), { method: s.id ? \"PUT\" : \"POST\" });\n        }\n    }\n\n    static async delete(...tvStationIds: number[]) {\n        for (const iid of tvStationIds) {\n            await fetch(api + `?tvStationId=${iid}`, { method: \"DELETE\" });\n        }\n    }\n}\n\nexport type TVStation = {\n    id: number,\n    m3u8: string,\n    sort: number,\n    title: string,\n}\n\nfunction assembleParams(s: TVStation): string {\n    return `?tvStationId=${encodeURIComponent(s.id)}&m3u8=${encodeURIComponent(s.m3u8)}&title=${encodeURIComponent(s.title)}&sort=${encodeURIComponent(s.sort)}`;\n}","import React, { PureComponent, ReactNode } from \"react\";\nimport { TVStation } from \"./Networker\"\nimport { Button, ButtonGroup } from \"react-bootstrap\";\n\nexport default class TVStationView extends PureComponent<{\n    station: TVStation,\n    onItemClick: () => void,\n    onMoveClick: (isMoveUp: boolean) => void,\n    moveUpEnabled: boolean,\n    moveDownEnabled: boolean,\n}> {\n\n    private moveButtonClick = false;\n    render(): ReactNode {\n        return (\n            <tr key={this.props.station.id}\n                onClick={() => {\n                    this.moveButtonClick || this.props.onItemClick();\n                    this.moveButtonClick = false;\n                }}>\n                <td>{this.props.station.id}</td>\n                <td>{this.props.station.title}</td>\n                <td><p style={{ wordWrap: \"break-word\", maxWidth: 600 }}>\n                    {\n                        this.props.station.m3u8\n                    }\n                </p></td>\n                <td>\n                    <ButtonGroup>\n                        <Button\n                            disabled={!this.props.moveUpEnabled}\n                            variant=\"outline-primary\"\n                            onClick={() => {\n                                this.moveButtonClick = true;\n                                this.props.onMoveClick(true);\n                            }}>\n                            ↑\n                             </Button>\n                        <Button\n                            disabled={!this.props.moveDownEnabled}\n                            variant=\"outline-primary\"\n                            onClick={() => {\n                                this.moveButtonClick = true;\n                                this.props.onMoveClick(false);\n                            }}>\n                            ↓\n                             </Button>\n                    </ButtonGroup>\n                </td>\n            </tr>\n        );\n    }\n}","import React, { Component, ReactNode } from \"react\";\nimport { Modal, Button, Form, Spinner } from \"react-bootstrap\";\nimport { TVStation, TVStationDao } from \"./Networker\";\n\nexport default class TVStationEditorView extends Component<{\n    editingStation: TVStation | null,\n    onHide: (refreshRequired: boolean) => void,\n}> {\n\n    state = {\n        isSaving: false,\n        isDeleting: false,\n        inputTitle: \"\",\n        inputM3u8: \"\",\n    }\n\n    render(): ReactNode {\n        return (\n            <Modal\n                show={!!this.props.editingStation}\n                onHide={() => this.props.onHide(false)}\n                onShow={() => this.setState({\n                    titleInvalid: false,\n                    m3u8Invalid: false,\n                    isSaving: false,\n                    isDeleting: false,\n                    inputTitle: this.props.editingStation?.title || \"\",\n                    inputM3u8: this.props.editingStation?.m3u8 || \"\",\n                })}\n                animation={false}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Edit TV Station</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form.Label>TV Station basic info.</Form.Label>\n                    <Form.Group>\n                        <Form.Control\n                            required\n                            value={this.state.inputTitle}\n                            onChange={(e) => this.setState({ inputTitle: e.target.value })}\n                            type={\"text\"}\n                            isInvalid={!this.state.inputTitle}\n                            placeholder=\"Title\" />\n                        <Form.Control.Feedback type=\"invalid\">\n                            Please provide a valid title.\n                        </Form.Control.Feedback>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Control\n                            required\n                            value={this.state.inputM3u8}\n                            onChange={(e) => this.setState({ inputM3u8: e.target.value })}\n                            type={\"text\"}\n                            isInvalid={!this.state.inputM3u8}\n                            placeholder=\"M3U8 URL\" />\n                        <Form.Control.Feedback type=\"invalid\">\n                            Please provide a valid m3u8 url.\n                        </Form.Control.Feedback>\n                    </Form.Group>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button\n                        hidden={!this.props.editingStation?.id}\n                        variant=\"danger\"\n                        onClick={() => this.delete()}>\n                        {\n                            this.state.isDeleting\n                                ? <Spinner\n                                    as=\"span\"\n                                    animation=\"border\"\n                                    size=\"sm\"\n                                    role=\"status\"\n                                    aria-hidden=\"true\"\n                                />\n                                : \"Delete\"\n                        }\n                    </Button>\n                    <div style={{ flex: 1 }} />\n                    <Button variant=\"secondary\" onClick={() => this.props.onHide(false)}>Close</Button>\n                    <Button variant=\"primary\" onClick={() => this.save()}>\n                        {\n                            this.state.isSaving\n                                ? <Spinner\n                                    as=\"span\"\n                                    animation=\"border\"\n                                    size=\"sm\"\n                                    role=\"status\"\n                                    aria-hidden=\"true\"\n                                />\n                                : \"Save changes\"\n                        }\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n\n    save() {\n        if (this.state.inputTitle && this.state.inputM3u8) {\n            this.setState({ isSaving: true });\n            TVStationDao.insertOrUpdate({\n                id: this.props.editingStation?.id || 0,\n                m3u8: this.state.inputM3u8,\n                title: this.state.inputTitle,\n                sort: this.props.editingStation?.sort || 0,\n            }).then(() => this.props.onHide(true));\n        }\n    }\n\n    delete() {\n        if (!this.props.editingStation) {\n            return;\n        }\n        if (!this.props.editingStation!.id) {\n            return;\n        }\n        this.setState({ isDeleting: true });\n        TVStationDao.delete(this.props.editingStation!.id).then(() => this.props.onHide(true));\n    }\n}","import React, { Component, ReactNode } from 'react';\nimport { Container, Navbar, Table, Spinner, Button } from 'react-bootstrap';\nimport { TVStationDao, TVStation } from './Networker'\nimport TVStationView from './TVStationView';\nimport TVStationEditorView from './TVStationEditorView';\n\nexport default class App extends Component {\n\n  state = {\n    tvStations: null,\n    editingStation: null,\n  }\n\n  private maxSort = 0;\n\n  componentDidMount() {\n    this.refresh();\n  }\n\n  render(): ReactNode {\n    const tvStations = this.state.tvStations as TVStation[] | null;\n    return (\n      <div>\n        <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\" sticky=\"top\">\n          <Container>\n            <Navbar.Brand>Beryllium TV</Navbar.Brand>\n          </Container>\n        </Navbar>\n        <Container fluid style={{ marginTop: 44, marginBottom: 44 }}>\n          <Table striped bordered hover variant=\"dark\">\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>Title</th>\n                <th>m3u8</th>\n                <th>Sort</th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                (tvStations || []).map((station: TVStation, index: number) =>\n                  <TVStationView\n                    key={station.id}\n                    station={station}\n                    onItemClick={() => this.setState({ editingStation: station })}\n                    onMoveClick={(isMoveUp: boolean) => this.move(station, isMoveUp)}\n                    moveUpEnabled={index !== 0}\n                    moveDownEnabled={index !== tvStations!.length - 1} />\n                )\n              }\n            </tbody>\n          </Table>\n          <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\n            {\n              tvStations != null\n                ? <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\n                  <p>{tvStations.length} station(s)</p>\n                  <Button\n                    style={{ width: 240 }}\n                    variant=\"primary\"\n                    onClick={() => this.setState({\n                      editingStation: {\n                        id: 0,\n                        m3u8: \"\",\n                        sort: this.maxSort + 1,\n                        title: \"\",\n                      }\n                    })}>\n                    Add TV Station\n                  </Button>\n                </div>\n                : <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\n                  <Spinner hidden={tvStations != null} animation=\"grow\" variant=\"primary\" />\n                  <p>Loading saved stations</p>\n                </div>\n            }\n          </div>\n        </Container>\n        <TVStationEditorView\n          editingStation={this.state.editingStation}\n          onHide={(refreshRequired) => {\n            this.setState({ editingStation: null });\n            refreshRequired && this.refresh();\n          }}\n        />\n      </div>\n    );\n  }\n\n  refresh() {\n    TVStationDao.getAll().then((stations) => {\n      this.setState({ tvStations: stations });\n      const last = stations[stations.length - 1];\n      this.maxSort = last ? last.sort : 0;\n    });\n  }\n\n  move(station: TVStation, isUp: boolean) {\n    const currentStations: TVStation[] = [...(this.state.tvStations || [])];\n    if (!currentStations.length) {\n      return\n    }\n    const currentIndex = currentStations.indexOf(station);\n    const targetIndex = currentIndex + (isUp ? -1 : 1);\n\n    currentStations.splice(currentIndex, 1);\n    currentStations.splice(targetIndex, 0, station);\n    currentStations.forEach((s, index) => s.sort = index);\n    TVStationDao.insertOrUpdate(...currentStations).then(() => {\n      this.setState({ tvStations: currentStations });\n    })\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}